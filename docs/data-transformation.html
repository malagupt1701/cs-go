<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Analysis of pro-level competitive matches in Counter-Strike Global Offensive</title>
  <meta name="description" content="Chapter 3 Data transformation | Analysis of pro-level competitive matches in Counter-Strike Global Offensive" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Analysis of pro-level competitive matches in Counter-Strike Global Offensive" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Analysis of pro-level competitive matches in Counter-Strike Global Offensive" />
  
  
  

<meta name="author" content="Anh-Vu Nguyen, Malaika Gupta, Wael Boukhobza" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script>
<script src="libs/d3-5.16.0/d3.min.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CSGO match analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#game-description"><i class="fa fa-check"></i><b>1.1</b> Game Description</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#how-can-the-data-bring-answers-to-the-following-questions"><i class="fa fa-check"></i><b>1.2</b> How can the data bring answers to the following questions?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#what-match-to-analyse"><i class="fa fa-check"></i><b>2.1</b> What match to analyse?</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#getting-the-demo-files"><i class="fa fa-check"></i><b>2.2</b> Getting the demo files</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#getting-readable-data"><i class="fa fa-check"></i><b>3.1</b> Getting readable data</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#kills-data"><i class="fa fa-check"></i><b>3.2</b> Kills data</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#damages-data"><i class="fa fa-check"></i><b>3.3</b> Damages data</a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#flashes-data"><i class="fa fa-check"></i><b>3.4</b> Flashes data</a></li>
<li class="chapter" data-level="3.5" data-path="data-transformation.html"><a href="data-transformation.html#grenades-data"><i class="fa fa-check"></i><b>3.5</b> grenades data</a></li>
<li class="chapter" data-level="3.6" data-path="data-transformation.html"><a href="data-transformation.html#common-data"><i class="fa fa-check"></i><b>3.6</b> Common data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#kills-data-1"><i class="fa fa-check"></i><b>4.1</b> Kills data</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#damages-data-1"><i class="fa fa-check"></i><b>4.2</b> Damages data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#evaluate-the-performance-of-teams-and-players-with-a-new-rating"><i class="fa fa-check"></i><b>5.1</b> Evaluate the performance of teams and players with a new rating</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#teams-performance"><i class="fa fa-check"></i><b>5.2</b> Teams performance</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#players-performance"><i class="fa fa-check"></i><b>5.3</b> Players performance</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#use-in-game-data-to-have-the-competitive-advantage"><i class="fa fa-check"></i><b>5.4</b> Use in-game data to have the competitive advantage</a></li>
<li class="chapter" data-level="5.5" data-path="results.html"><a href="results.html#game-evolution-and-balance"><i class="fa fa-check"></i><b>5.5</b> Game evolution and balance</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#explaination"><i class="fa fa-check"></i><b>6.1</b> Explaination</a></li>
<li class="chapter" data-level="6.2" data-path="interactive-component.html"><a href="interactive-component.html#interactive-maps"><i class="fa fa-check"></i><b>6.2</b> Interactive maps</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analysis of pro-level competitive matches in Counter-Strike Global Offensive</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<div id="getting-readable-data" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Getting readable data</h2>
<p>We used <a href="https://www.selenium.dev/">Selenium</a> and <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">Beautiful Soup</a> to parse the <a href="http://hltv.org">HLTV</a> website and to download the demo files. To avoid putting too much load on the site, we downloaded the demo files over the course of a full week. This resulted in over 600 demo files. <a href="https://github.com/anhvung/csgo_pro_matches_analysis/blob/main/code/Parser%20and%20Demo%20Downloader%20.ipynb">Python notebook - parser and demo downloader</a></p>
<p>To generate readable data from the demo files, we used a python <a href="https://github.com/pnxenopoulos/csgo">library</a> [1] to parse them in JSON files, resulting in 625 successful conversions and 20GB of pre-processed data from the original 80+GB of data. <a href="https://github.com/anhvung/csgo_pro_matches_analysis/blob/main/code/Pre-processing.ipynb">Python notebook - pre-processing</a>. This process concerts the demo files into json files.</p>
<p>The pre-processed data is still very much dirty as some files were corrupted. Also, in-game technical pauses, warmup rounds, game restarts, etc, can mess up the format and add rounds. We still managed to clean the data with the csgo python library cleaning functions.</p>
<p>The following Python notebook explains the data structure of a generated JSON file: <a href="https://github.com/anhvung/csgo_pro_matches_analysis/blob/main/code/Understanding%20the%20data.ipynb">Python notebook - data structures</a></p>
<p>To narrow down the amount of data points, we chose to merge all the matches json files into 5 json files containing information that we judged relevant for analysis : kills data, damages data, flashed data,and grenades data. To do so, we had to iterate through all the json files and all the relevant keys that we wanted to analyze.</p>
<p>To combine the json files and join the matches information such as score, winner, and teams, we used the parsed html from <a href="http://hltv.org">HLTV</a> to cross the information. <a href="https://github.com/anhvung/csgo_pro_matches_analysis/blob/main/code/Combining%20data.ipynb">Python notebook - combining json files</a>. The last step allows having consistent data across all matches and events that can later be joined, or grouped together in R.</p>
<p><a href="https://drive.google.com/drive/folders/1R86RveRkboHe123dH0ieMpk8U_hgZ6qH?usp=sharing">Lion drive link to the combined json files and parsed html</a> (1.5GB)</p>
</div>
<div id="kills-data" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Kills data</h2>
<p>The kills data stored in the <em>ALL_kills.json</em> file contains information on every kill that happened such as the player positions, weapon used etc. It has 103,261 rows and 59 columns.
The various column names in the grenades data set are:</p>
<pre><code>##  [1] &quot;tick&quot;                &quot;seconds&quot;             &quot;clockTime&quot;          
##  [4] &quot;attackerSteamID&quot;     &quot;attackerName&quot;        &quot;attackerTeam&quot;       
##  [7] &quot;attackerSide&quot;        &quot;attackerX&quot;           &quot;attackerY&quot;          
## [10] &quot;attackerZ&quot;           &quot;attackerAreaID&quot;      &quot;attackerAreaName&quot;   
## [13] &quot;attackerViewX&quot;       &quot;attackerViewY&quot;       &quot;victimSteamID&quot;      
## [16] &quot;victimName&quot;          &quot;victimTeam&quot;          &quot;victimSide&quot;         
## [19] &quot;victimX&quot;             &quot;victimY&quot;             &quot;victimZ&quot;            
## [22] &quot;victimAreaID&quot;        &quot;victimAreaName&quot;      &quot;victimViewX&quot;        
## [25] &quot;victimViewY&quot;         &quot;assisterSteamID&quot;     &quot;assisterName&quot;       
## [28] &quot;assisterTeam&quot;        &quot;assisterSide&quot;        &quot;isSuicide&quot;          
## [31] &quot;isTeamkill&quot;          &quot;isWallbang&quot;          &quot;penetratedObjects&quot;  
## [34] &quot;isFirstKill&quot;         &quot;isHeadshot&quot;          &quot;victimBlinded&quot;      
## [37] &quot;attackerBlinded&quot;     &quot;flashThrowerSteamID&quot; &quot;flashThrowerName&quot;   
## [40] &quot;flashThrowerTeam&quot;    &quot;flashThrowerSide&quot;    &quot;noScope&quot;            
## [43] &quot;thruSmoke&quot;           &quot;distance&quot;            &quot;isTrade&quot;            
## [46] &quot;playerTradedName&quot;    &quot;playerTradedTeam&quot;    &quot;playerTradedSteamID&quot;
## [49] &quot;weapon&quot;              &quot;round_won_by&quot;        &quot;match_id&quot;           
## [52] &quot;map_name&quot;            &quot;round_num&quot;           &quot;round_tot&quot;          
## [55] &quot;match_num&quot;           &quot;match_event&quot;         &quot;match_date&quot;         
## [58] &quot;match_team1&quot;         &quot;match_team2&quot;</code></pre>
</div>
<div id="damages-data" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Damages data</h2>
<p>The damages data stored in the <em>ALL_damages.json</em> file contains information on every damage dealt such as the player positions, weapon used, damage dealt etc. It has 337,151 rows and 42 columns.
The various columns in the damages data set are:</p>
<pre><code>##  [1] &quot;tick&quot;             &quot;seconds&quot;          &quot;clockTime&quot;        &quot;attackerSteamID&quot; 
##  [5] &quot;attackerName&quot;     &quot;attackerTeam&quot;     &quot;attackerSide&quot;     &quot;attackerX&quot;       
##  [9] &quot;attackerY&quot;        &quot;attackerZ&quot;        &quot;attackerAreaID&quot;   &quot;attackerAreaName&quot;
## [13] &quot;attackerViewX&quot;    &quot;attackerViewY&quot;    &quot;attackerStrafe&quot;   &quot;victimSteamID&quot;   
## [17] &quot;victimName&quot;       &quot;victimTeam&quot;       &quot;victimSide&quot;       &quot;victimX&quot;         
## [21] &quot;victimY&quot;          &quot;victimZ&quot;          &quot;victimAreaID&quot;     &quot;victimAreaName&quot;  
## [25] &quot;victimViewX&quot;      &quot;victimViewY&quot;      &quot;weapon&quot;           &quot;hpDamage&quot;        
## [29] &quot;hpDamageTaken&quot;    &quot;armorDamage&quot;      &quot;armorDamageTaken&quot; &quot;hitGroup&quot;        
## [33] &quot;round_won_by&quot;     &quot;match_id&quot;         &quot;map_name&quot;         &quot;round_num&quot;       
## [37] &quot;round_tot&quot;        &quot;match_num&quot;        &quot;match_event&quot;      &quot;match_date&quot;      
## [41] &quot;match_team1&quot;      &quot;match_team2&quot;</code></pre>
</div>
<div id="flashes-data" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Flashes data</h2>
<p>The flashes data stored in the <em>ALL_flashes.json file</em> contains information on every flash grenade thrown. It has 232,181 rows and 36 columns.
The various column names in the flashes data set are:</p>
<pre><code>##  [1] &quot;tick&quot;             &quot;seconds&quot;          &quot;clockTime&quot;        &quot;attackerSteamID&quot; 
##  [5] &quot;attackerName&quot;     &quot;attackerTeam&quot;     &quot;attackerSide&quot;     &quot;attackerX&quot;       
##  [9] &quot;attackerY&quot;        &quot;attackerZ&quot;        &quot;attackerAreaID&quot;   &quot;attackerAreaName&quot;
## [13] &quot;attackerViewX&quot;    &quot;attackerViewY&quot;    &quot;playerSteamID&quot;    &quot;playerName&quot;      
## [17] &quot;playerTeam&quot;       &quot;playerSide&quot;       &quot;playerX&quot;          &quot;playerY&quot;         
## [21] &quot;playerZ&quot;          &quot;playerAreaID&quot;     &quot;playerAreaName&quot;   &quot;playerViewX&quot;     
## [25] &quot;playerViewY&quot;      &quot;flashDuration&quot;    &quot;round_won_by&quot;     &quot;match_id&quot;        
## [29] &quot;map_name&quot;         &quot;round_num&quot;        &quot;round_tot&quot;        &quot;match_num&quot;       
## [33] &quot;match_event&quot;      &quot;match_date&quot;       &quot;match_team1&quot;      &quot;match_team2&quot;</code></pre>
</div>
<div id="grenades-data" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> grenades data</h2>
<p>The grenades data stored in the <em>ALL_grenades.json file</em> contains information on every grenades thrown that is not a flash grenade. It has 298,613 rows and 30 columns.
The various column names in the grenades data set are:</p>
<pre><code>##  [1] &quot;throwTick&quot;       &quot;destroyTick&quot;     &quot;throwSeconds&quot;    &quot;destroySeconds&quot; 
##  [5] &quot;throwerSteamID&quot;  &quot;throwerName&quot;     &quot;throwerTeam&quot;     &quot;throwerSide&quot;    
##  [9] &quot;throwerX&quot;        &quot;throwerY&quot;        &quot;throwerZ&quot;        &quot;throwerAreaID&quot;  
## [13] &quot;throwerAreaName&quot; &quot;grenadeType&quot;     &quot;grenadeX&quot;        &quot;grenadeY&quot;       
## [17] &quot;grenadeZ&quot;        &quot;grenadeAreaID&quot;   &quot;grenadeAreaName&quot; &quot;UniqueID&quot;       
## [21] &quot;round_won_by&quot;    &quot;match_id&quot;        &quot;map_name&quot;        &quot;round_num&quot;      
## [25] &quot;round_tot&quot;       &quot;match_num&quot;       &quot;match_event&quot;     &quot;match_date&quot;     
## [29] &quot;match_team1&quot;     &quot;match_team2&quot;</code></pre>
</div>
<div id="common-data" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Common data</h2>
<p>All the previous json data have the same information on the matches (match id, event, date) and teams (team1, team2, winner).</p>
<p>[1] Analyzing Counter-Strike: Global Offensive Data, Peter Xenopoulos, (2021), GitHub repository, <a href="https://github.com/pnxenopoulos/csgo" class="uri">https://github.com/pnxenopoulos/csgo</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/anhvung/csgo_pro_matches_analysis/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/anhvung/csgo_pro_matches_analysis/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
